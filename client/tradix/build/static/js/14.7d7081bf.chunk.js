(this.webpackJsonptradix=this.webpackJsonptradix||[]).push([[14],{313:function(e,t,c){"use strict";c.r(t);var n=c(63),r=c(1),s=c(15),a=c(280),l=c(279),o=c(12),i=c(13),d=c(29),u=c(11),j=(c(104),c(33)),b=c(48),m=c(8),p=c.n(m),x=c(0);t.default=Object(j.b)((function(e){return{error:e.dashboard_state.error,user:e.dashboard_state.user}}),(function(e){return{makeAccountDeposit:function(t,c,n){return e(Object(b.k)(t,c,n))},checkAmount:function(t,c){return e(Object(b.c)(t,c))},setInvoice:function(t){return e(Object(b.o)(t))},setError:function(t){return e(Object(b.n)(t))}}}))((function(e){var t=e.checkAmount,c=e.makeAccountDeposit,j=(e.setInvoice,e.setError),b=e.error,m=e.user,O=Object(r.useRef)(null),h=Object(r.useRef)(null),v=Object(r.useRef)(null),f=Object(r.useRef)(null),N=(Object(s.f)(),Object(r.useState)(null)),g=Object(n.a)(N,2),y=g[0],_=g[1];return Object(r.useEffect)((function(){var e=JSON.parse(localStorage.getItem("num_of_refresh"));localStorage.setItem("num_of_refresh",JSON.stringify((e>=2?-1:e)+1)),setTimeout((function(){e<=1&&window.location.reload()}),500)}),[]),Object(r.useEffect)((function(){b&&_(b);var e=window.document.querySelector(".custom_paynow_btn");y&&(e.disabled=!0),y||(e.disabled=!1)}),[b,y]),Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(o.a,{}),Object(x.jsx)(i.a,{}),Object(x.jsx)(d.a,{}),Object(x.jsx)("div",{className:"content-body",children:Object(x.jsx)("div",{className:"container-fluid exclude_default_card_style",children:Object(x.jsx)("div",{className:"col-xl-10 col-lg-10 col-md-12",children:Object(x.jsx)("div",{className:"card",children:Object(x.jsx)("div",{className:"card-body",children:Object(x.jsx)("div",{className:"buy-sell-widget",children:Object(x.jsxs)(a.a,{defaultActiveKey:"deposit",id:"uncontrolled-tab-example",children:[Object(x.jsx)(l.a,{eventKey:"deposit",title:"Deposit",children:Object(x.jsxs)("div",{className:"card",children:[Object(x.jsx)("div",{className:"p-3",children:Object(x.jsx)("h4",{className:"card-title mt-3",children:"Deposit USDT"})}),Object(x.jsx)("div",{className:"card-body p-3",children:Object(x.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t=document.querySelector(".custom_paynow_btn");t.textContent="Processing...";var n=document.querySelector(".form"),r=n.currency_type.value,s=n.deposit_amount.value,a=null===m||void 0===m?void 0:m.email;r||s?c(s,r,a):(setTimeout((function(){return t.textContent="Pay Now"}),2e3),j("Please complete the required field"))},className:"form",children:[Object(x.jsx)("div",{className:"form-group",children:Object(x.jsxs)("div",{className:"input-group mb-3",children:[Object(x.jsx)("div",{className:"input-group-prepend",children:Object(x.jsx)("label",{className:"input-group-text",children:Object(x.jsx)("i",{className:"fa fa-money"})})}),Object(x.jsx)("input",{type:"text",name:"deposit_amount",onChange:function(e){_(null);var c=document.querySelector(".form"),n=c.deposit_amount.value,r=c.currency_type.value;t(n,r)},className:"form-control",placeholder:"Amount (USD)"})]})}),Object(x.jsx)("div",{className:"form-group",children:Object(x.jsxs)("div",{className:"input-group mb-3",children:[Object(x.jsx)("div",{className:"input-group-prepend",children:Object(x.jsx)("label",{className:"input-group-text",children:Object(x.jsx)("i",{className:"fas fa-coins"})})}),Object(x.jsxs)("select",{name:"currency_type",className:"form-control",children:[Object(x.jsx)("option",{value:"btc",children:"BTC"}),Object(x.jsx)("option",{value:"USDT",selected:!0,children:"USDT"})]})]})}),Object(x.jsx)("button",{className:"custom_paynow_btn btn btn-primary btn-block",children:"Deposit"})]})})]})}),Object(x.jsx)(l.a,{eventKey:"withdraw",title:"Exchange",children:Object(x.jsxs)("div",{className:"card",children:[Object(x.jsx)("div",{className:"card-header",children:Object(x.jsx)("h4",{className:"card-title mt-3",children:"Exchange"})}),Object(x.jsx)("div",{className:"card-body",children:Object(x.jsxs)("form",{onSubmit:function(e){e.preventDefault(),f.current.textContent="Processing...",f.current.disabled=!0;var t={id:null===m||void 0===m?void 0:m._id,email:null===m||void 0===m?void 0:m.email,amount:v.current.value,currency:O.current.value};console.log("Data sent to backend",t),p.a.post("/exchange",t).then((function(e){f.current.textContent="Exchange",f.current.disabled=!1,console.log(e),console.log(e.data),e.data.error&&alert(e.data.error),e.data.msg&&alert(e.data.msg),v.current.value="",O.current.value="",h.current.value=""})).catch((function(e){f.current.textContent="Exchange",f.current.disabled=!1,console.log("ERR! Creating Withdrawal request ==>",e)}))},children:[Object(x.jsx)("div",{className:"form-group",children:Object(x.jsxs)("div",{className:"input-group mb-3",children:[Object(x.jsx)("div",{className:"input-group-prepend",children:Object(x.jsx)("label",{className:"input-group-text",children:Object(x.jsx)("i",{className:"fa fa-money"})})}),Object(x.jsx)("input",{required:!0,ref:v,type:"number",className:"form-control",placeholder:"Amount (USD)"})]})}),Object(x.jsx)("div",{className:"form-group",children:Object(x.jsxs)("div",{className:"input-group mb-3",children:[Object(x.jsx)("div",{className:"input-group-prepend",children:Object(x.jsx)("label",{className:"input-group-text",children:Object(x.jsx)("i",{className:"fas fa-coins"})})}),Object(x.jsxs)("select",{required:!0,ref:O,className:"form-control",children:[Object(x.jsx)("option",{value:"BTC",children:"BTC"}),Object(x.jsx)("option",{value:"ETH",children:"ETH"}),Object(x.jsx)("option",{value:"USDT",children:"USDT"}),Object(x.jsx)("option",{value:"BNB",children:"BNB"}),Object(x.jsx)("option",{value:"ADA",children:"ADA"}),Object(x.jsx)("option",{value:"LTC",children:"LTC"}),Object(x.jsx)("option",{value:"SOL",children:"SOL"}),Object(x.jsx)("option",{value:"XRP",children:"XRP"}),Object(x.jsx)("option",{value:"DOGE",children:"DOGE"})]})]})}),Object(x.jsx)("button",{ref:f,className:"btn btn-primary btn-block",children:"Exchange"})]})})]})})]})})})})})})}),Object(x.jsx)(u.a,{})]})}))}}]);
//# sourceMappingURL=14.7d7081bf.chunk.js.map